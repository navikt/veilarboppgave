<?xml version="1.0" encoding="UTF-8"?>
<application xmlns="http://appconfig.aura.nav.no" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://appconfig.aura.nav.no http://maven.adeo.no/xsd/appconfig.xsd">

    <name>veilarboppgave</name>

    <selftest>
        <path>veilarboppgave/internal/selftest</path>
    </selftest>

    <artifacts>
        <ear groupId="no.nav.fo" artifactId="veilarboppgave-jee"/>
    </artifacts>

    <resources>
        <baseUrl alias="isso-host"/>
        <baseUrl alias="isso-jwks"/>
        <baseUrl alias="isso-issuer"/>
        <baseUrl alias="isso.isalive"/>

        <credential alias="isso-rp-user"/>
        <credential alias="srvveilarboppgave" mapToProperty="systembruker"/>
        <applicationCertificate alias="srvveilarboppgave"/>

        <rest alias="abac.pdp.endpoint" mapToProperty="abac.endpoint" />
        <rest alias="veilarblogin.redirect-url" mapToProperty="oidc-redirect" />

        <webservice mapToProperty="personV3.endpoint" alias="virksomhet:Person_v3"/>
        <webservice mapToProperty="behandleoppgaveV1.endpoint" alias="virksomhet:BehandleOppgave_v1"/>
        <webservice mapToProperty="arbeidsfordelingV1.endpoint" alias="virksomhet:Arbeidsfordeling_v1"/>
        <webservice mapToProperty="behandleoppgaveV1.endpoint" alias="behandleOppgave_v1"/>
        <webservice mapToProperty="norg.virksomhet_enhet" alias="virksomhet:Enhet_v1"/>
        <webservice mapToProperty="organisasjonEnhetV2" alias="virksomhet:OrganisasjonEnhet_v2"/>
        <webservice alias="Aktoer_v2" mapToProperty="aktoer.endpoint"/>

        <datasource alias="veilarboppgaveDB" jndi="java:/jboss/datasources/veilarboppgavedb">
            <pool maxPoolSize="300" minPoolSize="1"/>
        </datasource>
    </resources>

    <exposed-services>
        <exposedRest path="/veilarboppgave/api" name="veilarboppgave.api" description="Api for veilarboppgave"/>
    </exposed-services>

    <loadBalancer isAlive="/veilarboppgave/internal/isAlive" />

    <abacSecurity serviceUserResourceAlias="srvveilarboppgave"/>

    <security serviceUserResourceAlias="srvveilarboppgave">
        <logins/>
    </security>

    <serverOptions>
        <memoryParameters resourceAlias="veilarb-memparams"/>
    </serverOptions>
</application>
